<!doctype html>
<html lang="en-GB">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>UK Stamp Duty (SDLT) Calculator 2026 | mortgage-cal.uk</title>
  <link rel="canonical" href="https://mortgage-cal.uk/calculators/stamp-duty.html" />
  <meta name="description" content="UK Stamp Duty (SDLT) calculator with explanations and examples. No cookies." />
  <link rel="stylesheet" href="../src/site.css" />
</head>
<body>
  <header class="header">
    <h1 class="h1">UK Stamp Duty (SDLT) calculator</h1>
    <p class="sub">Estimate SDLT from the purchase price. Mobile-first, no cookies.</p>
  </header>

  <nav class="nav" aria-label="Site sections">
    <div class="tabs">
      <a class="tab" href="../index.html">Home</a>
      <a class="tab active" href="./index.html">Calculators</a>
      <a class="tab" href="../articles.html">Articles</a>
      <a class="tab" href="../privacy.html">Privacy</a>
    </div>
  </nav>

  <main class="wrap grid">
    <section class="card">
      <div class="title">Inputs</div>
      <div class="row">
        <div class="field">
          <label for="price">Purchase price (£)</label>
          <input id="price" type="number" min="0" step="1000" value="400000" />
        </div>
        <div class="field">
          <label for="buyer">Buyer type</label>
          <select id="buyer">
            <option value="main" selected>Main residence</option>
            <option value="additional">Additional property (second home / buy-to-let) (simple +3% surcharge)</option>
          </select>
        </div>
      </div>

      <div class="btns">
        <button id="calcBtn">Calculate</button>
        <button id="resetBtn" class="secondary">Reset</button>
      </div>

      <div id="error" class="err" role="alert" aria-live="polite"></div>

      <p class="note">
        Note: SDLT rules can change. This is a simplified calculator (England & Northern Ireland style bands).
        If you need Scotland (LBTT) or Wales (LTT), we can add dedicated versions.
      </p>
    </section>

    <section class="card sticky">
      <div class="title">Result</div>
      <div class="kpis">
        <div class="metric"><div class="k">Estimated stamp duty</div><div class="v" id="sdlt">—</div></div>
        <div class="metric"><div class="k">Effective rate</div><div class="v" id="eff">—</div></div>
      </div>
      <div class="hr"></div>
      <div class="title">Breakdown</div>
      <div id="breakdown" class="note">—</div>
    </section>

    <section class="card" style="grid-column:1/-1;">
      <div class="title">What is Stamp Duty (SDLT)?</div>
      <p class="note">Stamp Duty Land Tax (SDLT) is a tax paid when buying property/land in England and Northern Ireland. It’s charged in bands — you only pay a higher rate on the slice of the price that falls in that band.</p>

      <div class="hr"></div>
      <div class="title">Worked example</div>
      <p class="note">If a home costs £400,000, the first slice may be taxed at 0%, then the next slice at 2%, then the next at 5% (depending on current thresholds). This page shows the band-by-band breakdown.</p>

      <div class="hr"></div>
      <div class="title">FAQs</div>
      <p class="note"><strong>Does owning another property matter?</strong> Often yes — additional properties can face a surcharge. This tool includes a simple “+3% surcharge” option as an approximation.</p>
      <p class="note"><strong>Is this advice?</strong> No. It’s an estimate for general information only.</p>
    </section>
  </main>

<script type="module">
  const el = (id) => document.getElementById(id);
  const fmtGBP = (x) => new Intl.NumberFormat('en-GB', {style:'currency', currency:'GBP', maximumFractionDigits: 0}).format(x);

  // Simplified England/NI bands (placeholder). Update when rules change.
  // Each band: [upTo, rate]
  const BANDS_MAIN = [
    [250000, 0.00],
    [925000, 0.05],
    [1500000, 0.10],
    [Infinity, 0.12],
  ];
  // The band 250k->925k is actually 5% only above 250k, but we're missing the 2% 125k-250k band if thresholds differ.
  // To keep this tool honest, we'll include a more typical modern structure:
  const BANDS_MAIN_TYPICAL = [
    [250000, 0.00],
    [925000, 0.05],
    [1500000, 0.10],
    [Infinity, 0.12],
  ];

  // For a safer baseline, use the 0/2/5/10/12 structure with 125k threshold.
  const BANDS_MAIN_CLASSIC = [
    [125000, 0.00],
    [250000, 0.02],
    [925000, 0.05],
    [1500000, 0.10],
    [Infinity, 0.12],
  ];

  // Use classic structure until you confirm current thresholds for 2026.
  const bands = BANDS_MAIN_CLASSIC;

  function calcBandTax(price, bands, surchargeRate=0) {
    let remaining = price;
    let lastCap = 0;
    const lines = [];
    let tax = 0;

    for (const [cap, rate] of bands) {
      const slice = Math.max(0, Math.min(remaining, cap - lastCap));
      if (slice <= 0) { lastCap = cap; continue; }
      const effRate = rate + surchargeRate;
      const sliceTax = slice * effRate;
      tax += sliceTax;
      lines.push({ from:lastCap, to: cap === Infinity ? null : cap, slice, rate: effRate, sliceTax });
      remaining -= slice;
      lastCap = cap;
      if (remaining <= 0) break;
    }
    return { tax, lines };
  }

  function renderBreakdown(lines) {
    if (!lines.length) return '—';
    return '<ul style="margin:8px 0 0 18px;">' + lines.map(l => {
      const band = l.to == null ? `£${fmtGBP(l.from).replace('£','')}+` : `£${fmtGBP(l.from).replace('£','')}–£${fmtGBP(l.to).replace('£','')}`;
      return `<li>${band}: ${fmtGBP(l.slice)} × ${(l.rate*100).toFixed(1)}% = <strong>${fmtGBP(l.sliceTax)}</strong></li>`;
    }).join('') + '</ul>';
  }

  function validate(price){
    if (!isFinite(price) || price < 0) return 'Enter a valid purchase price.';
    return null;
  }

  function calc(){
    el('error').textContent = '';
    const price = Number(el('price').value);
    const buyer = el('buyer').value;
    const err = validate(price);
    if (err){
      el('error').textContent = err;
      el('sdlt').textContent = '—';
      el('eff').textContent = '—';
      el('breakdown').innerHTML = '—';
      return;
    }

    const surcharge = buyer === 'additional' ? 0.03 : 0;
    const { tax, lines } = calcBandTax(price, bands, surcharge);

    el('sdlt').textContent = fmtGBP(Math.round(tax));
    el('eff').textContent = price > 0 ? `${(tax/price*100).toFixed(2)}%` : '—';
    el('breakdown').innerHTML = renderBreakdown(lines);

    // no-cookie, shareable state
    const u = new URL(window.location.href);
    u.searchParams.set('price', String(price));
    u.searchParams.set('buyer', buyer);
    window.history.replaceState({}, '', u.pathname + u.search);
  }

  function reset(){
    el('price').value = 400000;
    el('buyer').value = 'main';
    const u = new URL(window.location.href);
    u.searchParams.delete('price');
    u.searchParams.delete('buyer');
    window.history.replaceState({}, '', u.pathname + u.search);
    calc();
  }

  (function initFromUrl(){
    const u = new URL(window.location.href);
    const price = u.searchParams.get('price');
    const buyer = u.searchParams.get('buyer');
    if (price != null) el('price').value = price;
    if (buyer != null) el('buyer').value = buyer;
  })();

  el('calcBtn').addEventListener('click', (e)=>{e.preventDefault();calc();});
  el('resetBtn').addEventListener('click', (e)=>{e.preventDefault();reset();});
  el('price').addEventListener('input', calc);
  el('buyer').addEventListener('change', calc);

  calc();
</script>
</body>
</html>
